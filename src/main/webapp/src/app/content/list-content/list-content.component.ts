import { Component, OnInit } from '@angular/core';
import { ContentService } from '../content.service';
import { BookSummary } from '../content.interface';

@Component({
  selector: 'app-list-content',
  templateUrl: './list-content.component.html',
  styleUrls: ['./list-content.component.sass']
})
export class ListContentComponent implements OnInit {

  contentList: Array<BookSummary>;

  constructor(private contentService: ContentService) { }

  ngOnInit() {
    this.contentService.getAll().subscribe((res: Array<BookSummary>) => {
      console.log(res);
      this.contentList = res;
    });
  }

  delete(id: number) {
    if(confirm('Are you sure you want to delete "' + this.contentList.find(el => el.id == id).title + '"')) {
      this.contentService.delete(id);
    }
  }

}
